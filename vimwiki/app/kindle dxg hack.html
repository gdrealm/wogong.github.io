<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8" />
   <title>kindle dxg hack</title>
   <meta name="author" content="cheng zhen" />
   <link rel="stylesheet" href="../../assets/themes/mark-reid/css/screen.css" type="text/css" />
   <link rel="stylesheet" href="../../assets/themes/mark-reid/css/syntax.css" type="text/css" />
   <link rel="stylesheet" href="../../assets/vimwiki/style.css" type="text/css" />
</head>
<body id="">
<div id="site">
  
  <div id="header">
    <h1>
    	<a href="/" title="WoNote">WoNote</a>
    	<span class="byline">&larr; <a href="/">wogong</a></span>
    </h1>
    <ul class="nav">
      <li><a class="home" href="../../">Home</a></li>
      <li><a  href="../../archive.html">Archive</a></li>
      <li><a  href="../../categories.html">Categories</a></li>
      <li><a  href="../../tags.html">Tags</a></li>
      <li><a  href="../index.html">Wiki</a></li>
    </ul>
  </div>

  
<div id="page">


<p>
关于常见的hack之类先省略。
</p>

<p>
kindle dxg 2.5.8 升级 3.2.1
</p>

<ol>
<li>
20121203 16:46 开始制作2.5.8系统备份镜像 

<ul>
<li>
VCreating image...

<li>
16:57 Compressing image...

<li>
17:23 Generating update package...

<li>
17:34 GeneratiGenerating update...

<li>
17:41 GeneratiGeneraCleaning up...

<li>
17:46 GFlashing recovery kernel...

<li>
17:47 完成

</ul>
</ol>

<p>
	18:07 
</p>

<p>
想哭的冲动都有了，3G没了不说，还得再折腾一次汉化字体
</p>


<h3 id="toc_0.0.1">下面记录利用kindle dxg为3G网卡与电脑共享上网的方法：</h3>
<p>
命令：
</p>
<blockquote>
telnet 192.168.2.2
</blockquote>
<p>
 	ssh -R 2012:72.21.206.113:80 chengzhen@192.168.2.1
</p>

<p>
ssh登录到kindle dxg:
ssh root@192.168.2.2
passwd:wogong
</p>

<p>
telnet登录其实也可以滴～还不需要密码
</p>

<p>
ssh登录dxg之后，开启读写挂载：
mntroot ro
之后记得取消
mntroot ro
</p>
<h3 id="toc_0.0.2"><a href="字体优化.html">字体优化</a></h3>
<h3 id="toc_0.0.3"><a href="手动更换字体.html">手动更换字体</a></h3>

<h3 id="toc_0.0.4">未整理</h3>
<p>
K indle 3 jailbreak + usbNetwork 破解流程
摆脱USB线 WIFI 文件直传 - Kindle 4 usbNetwork 破解流程
2010-11-23 20:06
国外kindle破解大本营  <a href="http://www.mobileread.com/forums/showthread.php?t=88004">http://www.mobileread.com/forums/showthread.php?t=88004</a>
方案基本都是来自这个贴
Kindle 3 有WIFI，却还要用USB线传文件，实在是不爽。虽然可以通过免费email来转，但还是不爽。网上有usbNetwork的破解，但是要达到完满的效果，还是需要一些小努力的。Google之后，参考了国内外大虾各种资料，经试验，终成正果。言归正传，流程开始。(该流程仅针对 K3，原创加亲测 K3 3G US 版本，固件 3.0.1。但是：本文无版权，无责任，若有差错，概不负责，改机有风险，三思而后行。)
1. Kindle 3（wifi广告版） 越狱
kindle 版本3.2.1
今天刚出的，拿自己的k3广告版试了试，ok!
跟大家分享下！有兴趣的可以试试！
作者原帖：
<a href="http://yifan.lu/2011/06/02/kindle-3-2-1-jailbreak/">http://yifan.lu/2011/06/02/kindle-3-2-1-jailbreak/</a>
安装步骤：
The following is your BEST CHANCE at getting it to work:    按照下面的步骤操作将最有可能成功
</p>

<p>
1) Go to the Settings page via Menu -&gt; Settings      通过Menu-&gt;Setting进入Setting
</p>

<p>
2) Press "Menu" and select "Restart"   按"Menu" 键然后选择 "Restart"重启
</p>

<p>
3) While the Kindle is starting up, PLUG IN THE USB CABLE IN THE KINDLE AND THE COMPUTER
当k3在重启中时，用usb连接线连接kindle和电脑
</p>
 
<p>
4) Be prepared to copy and paste the correct update for your device
</p>
<blockquote>
k2 = Kindle 2 US
k2i = Kindle 2 International
dx = Kindle DX US
dxi = Kindle DX International
dxg = Kindle DX Graphite
k3 = Kindle 3 Wifi + 3G (US &amp; Canada)
k3g = Kindle 3 Wifi + 3G (Elsewhere)
k3w = Kindle 3 Wifi
</blockquote>
<p>
准备好复制正确的升级文件到kindle的根目录(我的是wifi版所以就是k3w)
</p>
 
<p>
5) AS SOON AS YOUR COMPUTER SEES THE KINDLE, copy the update bin to the device
一旦你的电脑识别kindle就将升级文件复制到kindle中
 这里用命令行的方式复制很方便,先敲好copy *.bin L:\，一旦kindle图标出现，马上回车把文件拷贝进去，如果抓不到kindle出现的时间，可以持续重复上条命令，回车，反复执行，为的就是第一时间把文件拷进去。
</p>
 
<p>
6) Go to the Settings page via Menu -&gt; Settings
断开kindle和电脑的连接，然后再通过Menu -&gt; Settings进入Settings页面
。
7) Select "Update Your Kindle"
选择"Update Your Kindle"进行升级
8) If all goes well, after 10 minutes or so, a checkmark should show up. If you see an exclamation mark, 
START OVER AT STEP 1 (RESTARTING YOUR KINDLE)
如果一切顺利，大概10分钟左右，一个升级成功的确认标记就会出现（就是一个勾），而如果很不幸出现的是一个惊叹号，那么只能从第一步再重新开始
</p>
 
<p>
PS：按上面的办法，我是一次就成功了，哈哈。
</p>
 

<p>
2. 安装 usbNetwork
去网页<a href="http://www.mobileread.com/forums/showthread.php?t=88004">http://www.mobileread.com/forums/showthread.php?t=88004</a> 下载 kindle-usbnetwork-0.23.N.zip。解压后，像上一步一样选择升级文件。B006的机器使用 update_usbnetwork_0.23.N_k3g_install.bin。同样插上usb线，拷贝到根目录，断开usb，然后升级。这次会显示升级成功，然后自动重启。
3. 修改 usbNetwork 配置
重启完毕之后，再次连接USB到计算机。K3 的根目录下会多出一个目录 usbnet。进入该目录，将 DISABLED_auto 文件名改为auto。进入etc子目录，用文本编辑器，如记事本(Notepad)，来修改config文件。这是UNIX格式的文本文件，不要修改成DOS格式。只要把两处false改成true，保存。
K3_WIFI="true"
K3_WIFI_SSHD_ONLY="true"
4. 制作密钥
去<a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html">http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html</a> 下载 puttygen.exe。运行该软件，点击 Generate，然后根据提示随机移动鼠标来产生随机密钥。搞完之后，要把 Public key for pasting into OpenSSH authorized_keys file 里面生成的文本粘贴到一个空白的文本文件，应该是巨长的一行。然后保存到 K3 的 usbnet/etc 目录下，文件名是 authorized_keys，这个是公钥。然后点击软件的 save private key 按钮保存私钥。需要的话，可以在Key Passpharse填写一个密码来保护私钥文件。断开USB连接，[HOME] -&gt; [MENU] &gt; Settings -&gt; [MENU] &gt; Restart，重启K3。
5. 显示 K3 的 IP 地址
先开启无线，显示 WiFi 图标后，[HOME] -&gt; [MENU] &gt; Settings，然后输入 alt+u, alt+q, alt+q。这就是著名的 711 页面。在页面上半部分有 MAC 地址，下半部分显示有 IP Address。一般无线路由器上的DHCP可以根据MAC地址保留IP地址，在路由器里设置一下之后，IP 地址就不会再改变了。
6. SCP 客户端
下载<a href="http://winscp.net/download/winscp429.zip。解压缩，软后运行winscp。点击">http://winscp.net/download/winscp429.zip。解压缩，软后运行winscp。点击</a> New 按钮。Host Name 填写上一步得到的 IP 地址。User Name 填 root。Private Key File 选择步骤4保存的私钥文件。Protocol 选择 SCP。左侧点击 SCP/Shell, 然后将 Lookup User Groups 前的勾去除。左侧点击Directories，右侧在Remote Directory中填写/mnt/us。最后点击 Save 按钮保存。将来再次使用的时候，选中保存的配置，直接 login 就可以了。运行之后，左侧是计算机的文件夹。右侧是 K3 文件夹。
注意：/mnt/us = USB 连接时 K3 的根目录。拷贝东西到 /mnt/us 下的各个子目录即可。
7. Kindle 文件库的刷新
拷贝到 /mnt/us/documents 下的文件 K3 不会自动检测到，所以需要一个刷新机制，否则每次传完之后需要重启。
用SCP连上K3，进入usbnet目录，按鼠标右键 New -&gt; File，文本中粘贴
dbus-send --system /default com.lab126.powerd.resuming int32:1 末尾加一个回车
然后保存。随便取个名字，比如 refresh_booklist。以后每次传完文件，回到usbnet目录，右键点击这个文件，选择 Custom Commands -&gt; Execute. 这样不用重启，K3 也能自动更新文件库。
为了更方便刷新，可以利用winSCP的自定义快捷按钮功能来创建刷新快捷键。选择 winSCP 菜单 [Option] -&gt; [Preferences]。左侧点击 Commands，右侧点击Add按钮，Description 输入按钮的名字，比如Refresh Kindle‘s Items ；Custom command 输入刷新文件的全路径文件名，我的例子是 /mnt/us/usbnet/refresh_booklist，下面 Remote Command 需要选中，然后点OK即可。最后在菜单栏边上空白的地方，点击鼠标右键，勾上Custom Command Buttons，你就可以看到自定义的刷新按钮了。所有文件传送完之后，点击这个按钮即可刷新K3的文件了。
</p>

<p>
经过以上几个步骤，就可以摆脱USB线了，实现WIFI连接SFTP来传送文件了，插来插去实现是不爽。
</p>

<p>
另外如果想要用命令行登入 K3 进行危险操作的话，可以下载 putty.exe来连接上去，用同样的私钥建立SSH连接即可。这个不懂的就不要乱试了，kindle用的是LINUX系统来的。
</p>
 
<p>
LINUX下操作其实更容易：
 制作密钥：
因为要用 ssh 或 scp ，所以要用 ssh-keygen 生成密钥，直接设置公钥的生成目录设置到 /kindle/usbnet/etc/ 下，修改 id_rsa.pub 为 authorized_keys ，直接：
mv id_rsa.pub authorized_keys
然后将私钥放到  ~/.ssh/ 下。
</p>

<p>
这时候，可以断开USB连接，[HOME] -&gt; [MENU] &gt; Settings -&gt; [MENU] &gt; Restart，重启 Kindle 3。
</p>

<p>
ssh 和 scp 连接或复制文件到 Kindle 3我是直接用命令行，写了两个小脚本（好吧，其实算不上脚本，XD）。
1、ssh
#!/bin/sh 
</p>
<blockquote>
ssh -p 22  root@ip
</blockquote>
<p>
ip 改为你的 Kindle 3 的 ip 地址即可。
2、scp
#!/bin/sh 
</p>
<blockquote>
scp $1 root@ip:/mnt/us/documents/
</blockquote>
<p>
这个是直接复制文件到 Kindle 3 下的 documents 目录，也即是一般放书籍的目录。文件存储名为 k3scp ，使用方法为：
k3scp bookname.mobi
5、Kindle 文件库的刷新因为拷贝到 /mnt/us/documents 下的文件 Kindle 3 不会自动检测到，所以需要一个刷新机制，否则每次传完之后需要重启，很是麻烦。於是有个方法是手动刷新，我是先在 usbnet 目录建立一个名为 refresh_kindle3 的文件，当然，你也可以换个名字。我这只不过是方便记忆。一定要记得给加上个 x （就是可执行啦）啊。refresh_kindle3 文件内容如下：
dbus-send --system /default com.lab126.powerd.resuming int32:1
因为我没有用 winscp 之类的 ssh 客户端，所以要有个更方便的刷新的方式，不然总不可能每次刷新都用 ssh 连接之后 /mnt/us/usbnet/refresh_kindle3 吧。因此，现在是 launchpad 发挥作用的时候了。打开根目录下的 launchpad 目录，编辑 launchpad.ini 文件，加上一句：
R F = !/mnt/us/usbnet/refresh_kindle3
之后就可以直接在 Kindle 3 下 Shift + R + F 刷新了。(注意是一个一个按，不是同时按)
</p>
 
<p>
SSH 客户端
想要用命令行登入 K3 进行危险操作的同学，可以<a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html">http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html</a> 下载 putty.exe。用同样的私钥建立SSH连接即可。
这样就再也不需要用USB线传文件了，速度大概是 700k - 1M/s。虽然不是很快，但够用了，而且胜在无线，方便的同时又减少不必要的充电次数。
谢谢围观 @_@
</p>

<p>
3，安装ScreenSaver hack
1，在刚才下载越狱程序的链接里，下载kindle-ss-0.15.N.zip
2，解压后一样选择适合你的型号的主程序，比如update_ss_0.15.N_k3g_install.bin
3，跟Jalibrake一样，选择Update your Kindle，重启
4，连上usb，你会发现Kindle根目录下会多出一个目录linkss，里面有个子目录screensavers，就是用来放屏保图片的
Kindle因为是黑白的，所以比较适合放水墨画，书法之类的
</p>



<p>
4，安装Fonts hack
步骤跟SS hack一样，就不写了。装完后会多个目录linkfonts，里面的子目录fonts就存放了字体文件。
如果你喜欢别的字体，比如微软雅黑，方正宋体什么的，就替换掉那个目录下的cjk.ttf即可。
我对字体不是很敏感，所以就还是用的hack自带的，效果可以见前一篇文章里的《1984》
</p>
 
<p>
5.安装Launchpad热键管理程序
Launchpad 是适用于 Kindle 的快捷键管理程序，就是以指定的键盘按键（或键盘组合）来快速运行特定程序或命令，如要体验一下快捷键，请马上按Ctrl+W。要在 Kindle 上安装 Launchpad，你可以执行以下步骤：
</p>

<p>
1.下载 lpad-pkg-001c.zip 文件（<a href="http://www.mobileread.com/forums/attachment.php?attachmentid=65929&amp;d=1296663715">http://www.mobileread.com/forums/attachment.php?attachmentid=65929&amp;d=1296663715</a>
）。
</p>

<p>
2.连接 Kindle 到电脑，将lpad-pkg-001c.zip解包中的 update_launchpad_0.0.1c_k3w_install.bin 拷贝到 Kindle 根目录。
</p>

<p>
Launchpad支持多个kindle版本，本人用的k3w；另外，这个lpad-pkg-001c.zip包里面也提供“解药”，对应的是update_launchpad_0.0.1c_k3w_uninstall.bin。
■k2：Kindle 2 US
■k2i：Kindle 2 国际版
■dx：Kindle DX US
■dxi：Kindle DX 国际版
■dxg：Kindle DX Graphite
■k3g：Kindle 3 3G US
■k3w：Kindle 3 WiFi
■k3gb：Kindle 3 3G UK
（这一段是不是和第一回的内容一样？哎，重复了。）
</p>

<p>
3.最后一步，与 Kindle 越狱一样（一样，也就是雷同，这个世界的新鲜事总是不多，什么都是重复，连每天睁开眼，女朋友都是同一样，哎哎哎），通过 Update Your Kindle 菜单来更新 Kindle。完成后，Kindle 会重启。
绿色通道： 好文要顶 关注我 收藏该文与我联系  
babykick
关注 - 1
粉丝 - 8
+加关注
0
0
(请您对文章做出评价)     
« 博主前一篇：python hack google api
» 博主后一篇：EHEL安装linux包的issue
posted @ 2011-06-28 22:07 babykick 阅读(4696) 评论(0) 编辑 收藏
</p>

<p>
Linux 系统共享Kindle DXG的免费3G上网 有更新！
作者：黄er | 更新日期:2012-01-22 02:13:31 浏览次数： 453
| 评论总数： 0标签： Kindle DXG, 免费3g, 共享上网, ssh, Kindle DXG越狱
话说Amazon的Kindle DXG不具备wifi功能.但是具备3G无线上网功能.
据官方文档说明.3g在美国本土是免费的.其他国家有部分地区可以搜到3g(是亚马逊和当地运营商合作的).
能收到的地方,简单的上上网也是免费的(干什么不免费,请看官方文档).
</p>
 
<p>
免费的网络当然是好东西,不限流量,不限时长,有效期什么的也不用考虑.唯一不好的就是kindle dxg的内置浏览器太傻X.(另外,这个网络是绕过GFW的,你懂的)
目的:
</p>
<blockquote>
我们现在要把kindle当作一个免费的3g无线网卡,通过usb接到电脑上,然后电脑就能上网了.
</blockquote>
<p>
解决方案:
</p>
<blockquote>
将浏览器的请求包全部转发到本地的某个端口(比如说2012).
通过ssh的端口转发功能将本地的2012端口收到的数据以kindle为桥梁转发到amazon_proxy_host.
由amazon_proxy_host对数据进行出来,并请求网络资源,然后将资源,反向返回到本机的浏览器.
上网成功.
</blockquote>


<p>
一些解释:
</p>
<blockquote>
1.为什么要转发到amazon_proxy_host?
答:亚马逊规定所有请求数据必须通过这个代理,方便其管理监视.
2.如何获取amazon_proxy_host的地址?
答:当你使用kindle上网的时候kindle的系统中会出现一个网络接口ppp0,通过监听查看,流过该接口的数据可以得到代理服务器的ip.
3.另外由于amazon的代理服务器需要验证身份，在发送给代理服务器的http请求header里面需要加上x-fsn和x-fn-appid头才能通过验证。 所以监听数据的时候,还要获取这两个.
</blockquote>
<p>
具体操作:
</p>
<blockquote>
1.kindle dxg越狱,越狱工具在这个帖子里,这是全球的kindle技术最高的一个帖子了.
要装jailbreak
要装usbnetwork
可参考这个帖子和这个帖子
2.kindle上面开启debug和启动usbnetwork的方法
在search中输入  ;debugon 开启debug模式,查看是否开启成功请输入   `help  ,会弹出帮助窗口.
开启debug后输入   `usbnetwork   按确定.
3.将kindle通过usb线连接到电脑上,linux下用ifconfig会看到多了一个usb0
通过将usb0的ip地址设置为静态的192.168.2.1就能与kindle 建立网络连接了(kindle默认ip是192.168.2.2).
4.网络连接成功后就可以(telnet 或ssh)到192.168.2.2也就是kindle了,注意ssh需要等待很长时间,原因未知.
现在开始使用ssh建立kindle和电脑之间,以及代理服务器之间的连接了.
两种方式:
A.  ssh到kindle上面,输入   ssh -R 2012:72.21.206.113:80 root@192.168.2.1 ,然后输入密码,然后不要退出保持连接就行了.
B.  在电脑上面输入 ssh -L 2012:72.21.206.113:80 192.168.2.2
sh -R 2012:72.21.206.113:80 root    @192.168.2.1  此处的72.21.206.113就是上面提到的amazon的代理服务器,需要通过一个叫做tcpdump-arm的软件监测ppp0得到,具体操作看前面推荐的帖子.
5.火狐浏览器,设置代理,使用的是http代理(目前只能使用http,https还不能用)指向127.0.0.1,端口2012.
6.完毕.
</blockquote>
<p>
更新（2012.1.22）：
</p>
<blockquote>
为火狐浏览器增加一个用来上wap网站的名为wmlbrowser的插件，效果更佳。
</blockquote>
 
<p>
(参考帖子中的大神使用的是kindle3,我的是kindle dxg,都能成功的)
</p>
 
<p>
男的，活的，崇尚自由！！！
新一篇：grub4dos打造全能u盘
旧一篇：SSH代理上网之linux
随机阅读：
</p>
<ul>
<li>
花开花落(1)

<li>
Linux 系统共享Kindle DXG的免费3G上网

<li>
grub4dos打造全能u盘

<li>
fedora换ubuntu，记录下使用过的东西

<li>
SSH代理上网之linux

</ul>

<p>
站外相关阅读：
</p>
<ul>
<li>
SSH初级命令学习(四)

<li>
SSH初级命令学习(三)

<li>
SSH初级命令学习(二)

<li>
Linux SSH常用命令

</ul>

<p>
姓名邮箱URL提交评论
</p>

<p>
Npw7rqF1ZsEv+Ydpi0GGj+Z7MrrfF/9M44ngP2AvPCE4yk5c6oiKGGCY/1NiWpbuQh    oMq1WNQ12XQYISyRuOlYZ9bt6mwmCcY3tB9UxZtJ01KmsWIPu0X53x4FGnpI4W+WKEzxqgF+CvJt    8zWdVyl2RtdvFc7c
Proxy-Connection: Keep-Alive
Accept-Encoding: deflate, gzip
Referer: <a href="http://www.amazon.com/gp/aw/h.html">http://www.amazon.com/gp/aw/h.html</a>
x-fsn:  "KCNpw7rqF1ZsEv+Ydpi0GGj+Z7MrrfF/9M44ngP2AvPCE4yk5c6oiKGGCY/1NiWpbuQhoMq1WNQ12XQYISyRuOlYZ9bt6mwmCcY3tB9UxZtJ01KmsWIPu0X53x4FGnpI4W+WKEzxqgF+CvJt8zWdVyl2RtdvFc7c"
 x-appNamespace: WEB_BROWSER
 x-appId: Kindle_2.5
</p>


<p>
D ownload the attached kindle-fonts-5.1.N.zip file, and unpack it. In here, you'll find a bunch of .bin files, and a src directory.
NOTE: Since v3.9.N, this package has been split in two (solely because we were over the attachment size limit ).
The K2, K2I, DX, DXI and DXG packages are in the kindle-fonts-5.1.N-k2.zip archive, and the K3G, K3W and K3GB packages are in the kindle-fonts-5.1.N-k3.zip archive.
</p>

<p>
First, upload the correct update_*_install.bin file for your kindle to the root directory of your Kindle.
For a Kindle 2 International, that would be update_fonts_5.1.N_k2i_install.bin for example.
</p>

<p>
Now, eject your Kindle, and go to [HOME] -&gt; [MENU] &gt; Settings -&gt; [MENU] &gt; Update Your Kindle. It should take a few dozen of seconds. If you're on FW 3.x, and this is your first install, it may seem to hang for about a minute or two on the "Update successful, Your Kindle is restarting..." screen, that's okay.
</p>

<p>
If you want to change the fonts used by the hack, you'll have to upload them in the linkfonts/fonts directory, strictly following the usual naming scheme. (Type_Style.ttf) (for details on where each font is used, please see this post). The default fonts installed by the hack are the usual non-cjk unicode fonts (Droid Sans, Droid Serif &amp; DejaVu Sans Mono), with the addition of the CJK-aware Droid Fallback if you're on FW 3.x. You'll find a bunch of other prepackaged, ready to use, font sets here, and in the next few replies.
exit
</p>

<p>
You'll have to restart your Kindle in order to properly take your new fonts into account.
</p>

<p>
By default, the autoreboot feature is enabled. If you wish to make use of it, don't forget to drop a blank file named reboot in the linkfonts folder (right alongside the "autoreboot" file, by copying and renaming it, for example). When that file is present, your Kindle should automatically do a quick reboot 10s after you've unplugged it.
</p>

<p>
FW 3.x: If you chose to handle the browser fonts, this will add a considerable overhead to this process (We need to regenerate FontConfig's config &amp; cache). That can take more than a couple of minutes! It'll happen each time you update your fonts, either during the framework startup if you did a full restart, or before the framework restart when using the autoreboot feature!. So, if you're switching fonts on a K3, and you have enabled the browser fonts handling (more on that later), and you use the autoreboot feature, don't be surprised if it takes considerably more than 10s before the framework restarts!
</p>

<p>
Another thing to take into account with the FW 3.x is that the settings of the rendering engine have changed a bit. It now makes use of the TrueType bytecode hinting instructions of your fonts, and uses them to hint at the most aggressive level. (In terms of FT/FC settings: hinting=true, hintstyle=hintfull, autohint=false). What this means is that fonts without hinting instructions (or with crappy code) will look considerably fuzzier than they did before. It's especially noticeable at small sizes, and in the browser.
</p>

<p>
If you really want to be able to tweak the browser fonts, and don't care about the overhead involved, just remove the nobrowser file in the linkfonts folder, and Restart your Kindle, and wait. A lot. NOTE: Because regenerating the cache takes so much time, we won't try to handle the browser fonts by default, in order not to waste 5 minutes each font switch.
</p>

<p>
There's also two new custom fonts used for rendering non-latin scripts. CJK.ttf, like the name implies, is used to render Chinese/Japanese/Korean scripts. After that, there's I18N.ttf, which is used as a fallback. By default, the hack uses the DejaVu Sans font. While it's far more pretty than the vanilla fallback font usually used (code2000), it does seem to support a lot less different types of scripts. Long story short, if you have weird non-latin rendering issues, those are the two fonts you should look at .
</p>

<p>
If you don't use the autoreboot feature (for exemple if you removed the autoreboot file in the linkfonts folder), you'll have to do at least a framework restart each time you change the fonts. If you have no means of doing a framework restart (ie. via usbnetwork), you'll have to do a full restart via the Settings menu, or by holding the power switch for ~15 seconds). Do note that the autoreboot &amp; Restart methods are both way cleaner (and possibly safer) than the physical hard-reboot (which basically just plugs the battery off for a little while, which explains why your Kindle needs to be unplugged from any power source for this to work).
</p>

<p>
/!\ Be careful, if you miss a font, the hack won't be applied, so you shouldn't have any problem, but if for some reason, the Kindle software doesn't like one of your custom font, they'll be garbled, or invisible. Also, it may prevent you from actually <em>seeing</em> the Settings page to do the restart. (And actually reading any books, also.) If that happens to you, try one of the three methods described earlier to reboot your Kindle. If you want to avoid this kind of issue, use the autoreboot feature Also, don't remove the other fonts found in the linkfonts/fonts folder. We need them, and the hack won't be applied if they're missing.
</p>

<p>
FW 3.x: Apparently, even when using the autoreboot feature, some of you are still encountering some of these weird issues (on FW 3.x only!). To try to workaround this, I have packaged some of these fonts as an update file. Check this post for more details. It might not fix the issue at all, but it is a neat way to package the fonts . What might fix these issues, though, is using an ft override (check the next paragraph)!
</p>

<p>
Since v4.0.N: You can now control a bit more the settings used by the rendering engine. For example, if you want to make sure it'll be using FreeType's autohinter (like on FW 2.x) instead of native hinting on FW 3.x, drop a blank autohint file in the linkfonts folder. The same applies on FW 2.x if you want to make sure the renderer uses native hinting (like FW 3.x) instead of the autohinter on FW 2.x, drop a blank bci file in the linkfonts folder.
You will have to do a full Restart of your Kindle for the changes to be taken into account (a framework restart won't be enough).
(Note that both settings are always available (ie. you can use bci on FW 3.x, and autohint on FW 2.x), in which case while the rendering should be mostly similar to your Kindle's defaults, it won't be exactly the same, due to changes in FreeType, and possibly patches Amazon might be using. If you have both files present, autohint will take precedence. It might also impact page turns perceived speed (good or bad, YMMV).)
v4.1.N: In addition to autohint &amp; bci, there is now a third setting available: light. It's based on autohint, but with lighter hinting and a bunch of other tweaks used in order to try to preserve each glyph's shape, at the expense of being potentially a bit fuzzier. It's a bit like font rendering on OS X. It might very well look better than both the autohint or bci settings in the latest versions of the Hack.
NOTE: For obvious reasons (it's a bit more intrusive than usual), this is disabled by default. But it might very well workaround the 'blank fonts' issue some of you have been suffering on FW 3.x .
NOTE: If all of this is still a bit unclear, please check this post. And if you're still confused, you can of course skip this feature entirely .
</p>


</div><!-- End Page -->


  
  <div id="footer">
  	<address>
  		<span class="copyright">
  			Content by <a href="https://plus.google.com/116560009434103921581?rel=author">cheng zhen</a>. Design by 
  			<a href="http://mark.reid.name/">Mark Reid</a>
  			(<a rel="licence" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Some rights reserved</a>)			
  		</span>
  		<span class="engine">
  			Powered by <a href="https://code.google.com/p/vimwiki/" title="A personal wiki for Vim">Vimwiki</a> and <a href="http://github.com" title="Github">Github</a>
  		</span>
  	</address>
  </div>
  
</div>

<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-34308107-1']);
  _gaq.push(['_trackPageview']);
  (function() {
   var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
   ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
   var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
   })();
</script>
  
</body>
</html>


