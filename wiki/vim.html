<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <meta name="author" content="wogong" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
   <!-- syntax highlighting CSS -->
   <link rel="stylesheet" href="/assets/themes/mark-reid/css/syntax.css" type="text/css" />
   <!-- Homepage CSS -->
   <link rel="stylesheet" href="/assets/themes/mark-reid/css/screen.css" type="text/css" />

</head>
<body>
<div id="site">
  <div id="header">
    <h1>
    	<a href="/" title="WoNote">WoNote</a>
    	<span class="byline">← <a href="/">wogong</a></span>
    </h1>
    <ul class="nav">
	  <li><a class="home" href="/">Home</a></li>	
	  <li><a href="/archive.html">Archive</a></li>
      <li><a href="/kindle.html">Kindle</a></li>
      <li><a href="/wiki/">Wiki</a></li>
    </ul>
  </div>

  <div id="page">
<div id="TOC">
<ul>
<li><a href="#vim">VIM</a><ul>
<li><a href="#note">note</a></li>
<li><a href="#useful-commands">useful commands</a></li>
<li><a href="#vimrc">vimrc</a></li>
<li><a href="#plugin">Plugin</a><ul>
<li><a href="#vundle">vundle</a></li>
<li><a href="#vimwiki">vimwiki</a></li>
<li><a href="#zencoding-vim">zencoding-vim</a></li>
<li><a href="#taglist">taglist</a></li>
<li><a href="#tagbar">tagbar</a></li>
<li><a href="#snipmate">snipmate</a></li>
<li><a href="#vim-multiple-cursors">vim-multiple-cursors</a></li>
<li><a href="#voom">VOoM</a></li>
<li><a href="#nerdtree">NERDTree</a></li>
<li><a href="#nerdcommenter">NERDCommenter</a></li>
<li><a href="#syntastic">Syntastic</a></li>
<li><a href="#calendar">calendar</a></li>
</ul></li>
<li><a href="#shortcut">shortcut</a><ul>
<li><a href="#cursor-movement">cursor movement</a></li>
<li><a href="#insert-mode">insert mode</a></li>
<li><a href="#editing">editing</a></li>
<li><a href="#cut-and-paste">cut and paste</a></li>
<li><a href="#visual-mode">visual mode</a></li>
<li><a href="#searchreplace">search/replace</a></li>
<li><a href="#exiting">exiting</a></li>
<li><a href="#multi-file">multi-file</a></li>
<li><a href="#macros">macros</a></li>
</ul></li>
</ul></li>
</ul>
</div>
<h1 id="vim"><a href="#vim">VIM</a></h1>
<p>coolshell has some great vim articles about vim. when you feel boring, you can always find some interesting things there.</p>
<p>http://coolshell.cn</p>
<h2 id="note"><a href="#note">note</a></h2>
<ol style="list-style-type: decimal">
<li><p>改变当前文本文件编码：set fileencoding=gbk</p></li>
<li><p>&quot;set syntax=on&quot; in .vimrc may cause this problem: &quot;filetype unknown Press ENTER or type command to continue &quot;. Finally resolved.</p></li>
<li><p>安装帮助文件：:helptags $VIM/doc 如果环境变量没有设置的话，直接在doc路径下打开vim，运行 :helptags .</p></li>
<li><p>vim 7.3以后才支持 undofile</p></li>
<li>Windows下使用注意环境变量的设置，%VIM%</li>
<li><code>:set guifont</code></li>
<li>高亮第80列 set cc = 80 高亮当前列 set cuc</li>
<li>TODO: spellcheck ]s [s z= zg zw</li>
<li>word count: In command mode, press g, then ctrl-g</li>
<li><p>:ju C-o C-i Use C-o to jump back to previous locations which were autosaved in a jumplist.</p></li>
</ol>
<h2 id="useful-commands"><a href="#useful-commands">useful commands</a></h2>
<ol style="list-style-type: decimal">
<li>vimgrep</li>
</ol>
<p>vimgrep是gvim内部集成的一个查找文件命令，可以方便的搜索多个文件，虽然不如外部的命令速度快，但也很实用，特别在大工程文件要查找特定的关键字的时候，格式如下：</p>
<p>vimgrep /pattern/ file patern代表的是你要搜索的内容，可以用正则表达式 file代表的是文件名，文件名也可以用正则表达式，特别是<strong>，下面说明一下</strong>的用法： <em>* 代表的是递归查找大于100层目录，例如：/</em>.c，查找的文件可以是 1. a.c 2. dir/a.c 3. a/b/c/d/e/a.c</p>
<p>下面就举一下常用的例子： :vimgrep /test/ * 说明： 查找当前目录下所有包含test关键字 :vimgrep /test/ ** 说明： 递归查找当前目录下所有包含test关键字 :vimgrep /&lt;test&gt;/ ** 说明： 递归查找当前目录下所有包含只有test关键字,不包括testabc、abctest、abctestabc等等，如果一行有多个test的话，只搜索一个test结果 :vimgrep /&lt;test&gt;/g ** 说明： 递归查找当前目录下所有包含只有test关键字,不包括testabc、abctest、abctestabc等等，如果一行有多个test的话，搜索多个test结果 :vimgrep /&lt;test&gt;/ *.html 说明： 查找当前目录下所有的html文件包含只有test关键字,不包括testabc、abctest、abctestabc等等，如果一行有多个test的话，搜索多个test结果 搜索的结果不会立即显示出来，但可以用:copen来打开所有的搜索结果，并会打开第一个符合的文件中第一个符合的位置</p>
<p>下面是常用的搜索结果的命令： :cnext (:cn) 当前页下一个结果 :cprevious (:cp) 当前页上一个结果 :clist (:cl) 打开quickfix窗口，列出所有结果，不能直接用鼠标点击打开，只能看 :copen (:cope) 打开quickfix窗口，列出所有结果，可以直接用鼠标点击打开 :ccl[ose] 关闭 quickfix 窗口 ctrl + ww 切换编辑窗口和quickfix窗口，在quickfix里面和编辑窗口一样jk表示上下移动，回车选中进入编辑窗口</p>
<p>最后，可以给:copen和:cn设定一个快捷键，在_vimrc里加入 map <leader>c :copen<CR> map <leader>n :cn<CR></p>
<h2 id="vimrc"><a href="#vimrc">vimrc</a></h2>
<ol style="list-style-type: decimal">
<li>mouse设置<br />set mouse=a 不可以右键粘贴，但是可以鼠标操作切换vsplit窗口 set mouse-=a 相反</li>
</ol>
<hr />
<h2 id="plugin"><a href="#plugin">Plugin</a></h2>
<h3 id="vundle"><a href="#vundle">vundle</a></h3>
<p><a href="https://github.com/gmarik/vundle">Github</a></p>
<ul>
<li><p>在Windows下使用Vundle<br />[Vundle for Windows] (https://github.com/gmarik/vundle/wiki/Vundle-for-Windows) 需要注意环境变量的设置。</p></li>
<li><p>常用命令 BundleInstall，安装插件</p></li>
</ul>
<h3 id="vimwiki"><a href="#vimwiki">vimwiki</a></h3>
<p>用过很长一段时间，由于使用的是自己的wiki语法， 而且当wiki条目数量很多时，修改html模板带来的 转换成本太高，所以抛弃了。</p>
<h3 id="zencoding-vim"><a href="#zencoding-vim">zencoding-vim</a></h3>
<p>html手写神器，目前我还没怎么使用。</p>
<h3 id="taglist"><a href="#taglist">taglist</a></h3>
<p>需要ctags配合生成tags文件，浏览代码必备。</p>
<pre><code>set tags=tags;
set autochdir</code></pre>
<p>注意第一个命令里的分号是必不可少的。这个命令让vim首先在当前目录里寻找tags文件，如果没有找到tags文件，或者没有找到对应的目标，就到父目录中查找，一直向上递归。因为tags文件中记录的路径总是相对于tags文件所在的路径，所以要使用第二个设置项来改变vim的当前目录。</p>
<p>扫描指定的源文件，找出其中所包含的语法元素，并将找到的相关内容记录下来</p>
<p>当前路径运行<code>ctags -R</code></p>
<p>vim文件时，用用ctrl-]来执行跳转，通过ctrl+t来跳转回来就可以了</p>
<h3 id="tagbar"><a href="#tagbar">tagbar</a></h3>
<p>因为受不了 Taglist 会把 method 和 attribute 混在一起这个设定以及和 NERDTree 配合是会出现 bug，我决定将使用了快两年的它抛弃。然后找到了它的替代品，Tagbar。应该有不少 Vim 用户都在使用了吧，还没有的就赶紧换吧。</p>
<h3 id="snipmate"><a href="#snipmate">snipmate</a></h3>
<h3 id="vim-multiple-cursors"><a href="#vim-multiple-cursors">vim-multiple-cursors</a></h3>
<p>ST的特性，华丽。代码托管在 <a href="https://github.com/terryma/vim-multiple-cursors">Github</a></p>
<h3 id="voom"><a href="#voom">VOoM</a></h3>
<p>文本文件outliner。详见 <a href="http://xbeta.info/vim-voof.htm">xbeta</a></p>
<p>需要Python 环境，windows 8 64bit 下需要安装 32bit Python 2.7 (配合Gvim7.3 32bit)。否则提 示无法加载库python27.dll。 安装vimpdb 之后出现问题，reinstall 解决。</p>
<h3 id="nerdtree"><a href="#nerdtree">NERDTree</a></h3>
<p>碉堡。 read the help file, you'll get everything</p>
<p>bookmark is useful</p>
<h3 id="nerdcommenter"><a href="#nerdcommenter">NERDCommenter</a></h3>
<p>Want to be able to comment and uncomment code with a few keypresses? You need NERDCommenter. It’s surprising that Vim doesn’t have decent commenting functionality built in, but NERDCommenter fixes that. I really only use this plugin for one single function: “toggle comment” with <leader>c<space>. That function alone is worth installing it.</p>
<h3 id="syntastic"><a href="#syntastic">Syntastic</a></h3>
<p>可以每次在保存文件时检查语法和代码。比如Python中定义了一个变量但没有用，就会高亮警告。</p>
<h3 id="calendar"><a href="#calendar">calendar</a></h3>
<p>calendar.vim 默认日记文件后缀为.cal, 用 Vim 安装 MarkDown 写作插件则为 .md ### vim-indent-guides</p>
<h2 id="shortcut"><a href="#shortcut">shortcut</a></h2>
<h3 id="cursor-movement"><a href="#cursor-movement">cursor movement</a></h3>
<ul>
<li>hjkl</li>
<li>C-f C-b</li>
<li>%</li>
<li>w</li>
<li>W jump by words</li>
<li>e</li>
<li>E b B O start of line ^ $ gg gd [N]G</li>
</ul>
<h3 id="insert-mode"><a href="#insert-mode">insert mode</a></h3>
<h3 id="editing"><a href="#editing">editing</a></h3>
<h3 id="cut-and-paste"><a href="#cut-and-paste">cut and paste</a></h3>
<h3 id="visual-mode"><a href="#visual-mode">visual mode</a></h3>
<h3 id="searchreplace"><a href="#searchreplace">search/replace</a></h3>
<h3 id="exiting"><a href="#exiting">exiting</a></h3>
<h3 id="multi-file"><a href="#multi-file">multi-file</a></h3>
<h3 id="macros"><a href="#macros">macros</a></h3>

  </div>

  <div id="footer">
  	<address>
  		<span class="copyright">
            Content by <a href="../">wogong</a>. Design by 
  			<a href="http://mark.reid.name/">Mark Reid</a>
  			(<a rel="licence" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Some rights reserved</a>)			
  		</span>
  		<span class="engine">
			Powered by <a href="http://johnmacfarlane.net/pandoc/" title=" a universal document converter">Pandoc</a> and <a href="http://github.com" title="Github">Github</a>
  		</span>
  	</address>
  </div>

</div>

  <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-34308107-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>


</body>
</html>
